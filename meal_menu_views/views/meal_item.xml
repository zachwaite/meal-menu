<?xml version="1.0" encoding="utf-8" ?>
<odoo>
  <data>

    <record id="action_meal_item" model="ir.actions.act_window">
        <field name="name">Meal Items</field>
        <field name="res_model">meal.item</field>
        <field name="view_mode">tree,form</field>
    </record>

    <record id="view_meal_item_tree" model="ir.ui.view">
        <field name="name">view_meal_item_tree</field>
        <field name="model">meal.item</field>
        <field name="arch" type="xml">
            <tree>
              <field name="sequence" widget="handle" />
              <field name="name" />
              <field name="category_id" />
              <field name="description" />
            </tree>
        </field>
    </record>

    <record id="view_meal_item_form" model="ir.ui.view">
        <field name="name">view_meal_item_form</field>
        <field name="model">meal.item</field>
        <field name="arch" type="xml">
            <form string="view_meal_item_form">
              <header>
              </header>
              <sheet>
               <field name="image" widget="image" class="oe_avatar"
                 options="{'preview_image': 'image_medium'}" />
               <div class="oe_title">
                 <h1 class="o_row">
                   <field name="name" placeholder="e.g. Pizza ... " />
                 </h1>
               </div>
               <group>
                 <field name="category_id"  placeholder="Pick a category ... "/>
                 <field name="product_tmpl_id" groups="base.group_no_one" />
               </group>
               <notebook>
                 <page string="Description">
                   <field name="description" />
                 </page>
                 <page string="Attributes">
                   <field name="attribute_line_ids">
                     <tree editable="bottom">
                       <field name="attribute_id" context="{'invisible_create_variant': 1}"/>
                       <field name="value_ids" widget="many2many_tags" />
                     </tree>
                   </field>
                 </page>
               </notebook>
              </sheet>
            </form>
        </field>
    </record>

    <record id="view_product_attribute_form" model="ir.ui.view">
        <field name="name">product_attribute_form_view</field>
        <field name="model">product.attribute</field>
        <field name="inherit_id" ref="product.product_attribute_view_form" />
        <field name="arch" type="xml">
          <xpath expr="//field[@name='create_variant']" position="attributes">
            <attribute name="invisible">context.get('invisible_create_variant', 0)</attribute>
          </xpath>
        </field>
    </record>
    
  </data>
</odoo>
